{% extends "base.html" %}
{% block content %}
<h1>Asiakaskäynnit</h1>

<p>
	<a href="{{base_path}}/customervisit/new" class="btn btn-success">Luo asiakaskäynti</a>
	<a href="{{base_path}}/customervisits/list" class="btn btn-default">Listaa asiakaskäynnit</a>
</p>

<h2>Haku</h2>

{% if errors %}
<div class="alert alert-danger">
  <ul>
    {% for error in errors %}
    <li>{{error}}</li>
    {% endfor %}
  </ul>
</div>
{% endif %}

<form method="post" action="{{base_path}}/customervisit/search">
  <div class="form-group">
    <label for="customer">Asiakas</label>
    <select class="form-control" name='customer_id'>
      <option value=''></option>
      {% for customer in customers %}
      <option value='{{customer.id}}'>{{customer.name}}</option>
      {% endfor %}
    </select>
  </div>
  <div class="form-group">
    <label for="employee">Työntekijä</label>
    <select class="form-control" name='employee_id'>
      <option value=''></option>
      {% for employee in employees %}
      <option value='{{employee.id}}'>{{employee.first_name}} {{employee.last_name}}</option>
      {% endfor %}
    </select>
  </div>
  <p>Rajoita käynnin alkamisaikaa:</p>
  <div class="form-group">
    <label>Päivämäärästä lähtien</label>
    <input type="text" class="form-control" name="start_date" value="{{attributes.start_date}}">
  </div>
  <div class="form-group">
    <label>Ajasta lähtien</label>
    <input type="text" class="form-control" name="start_time" value="{{attributes.start_time}}">
  </div>
  <div class="form-group">
    <label>Päivämäärään mennessä</label>
    <input type="text" class="form-control" name="end_date" value="{{attributes.end_date}}">
  </div>
  <div class="form-group">
    <label>Aikaan mennessä</label>
    <input type="text" class="form-control" name="end_time" value="{{attributes.end_time}}">
  </div>
  <div class="form-group">
    <button type="submit" class="btn btn-primary">Hae</button>
  </div>
</form>
{% endblock %}